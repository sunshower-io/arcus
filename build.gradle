
plugins {
    id 'groovy'
    id 'java-library'
    id "com.diffplug.spotless" version "5.11.0"
    id "io.spring.dependency-management" version "1.0.11.RELEASE"
}


allprojects {
    apply plugin: 'io.spring.dependency-management'

    repositories {
        mavenLocal()
        mavenCentral()
    }


    dependencyManagement {
        imports {
            mavenBom "io.sunshower.arcus:bom-imported:$version"
        }
    }

}

subprojects {
    apply plugin: 'java'
    apply plugin: 'groovy'
    apply plugin: 'java-library'
    apply plugin: "com.diffplug.spotless"

    test {
        useJUnitPlatform()
    }

    spotless {
        java {
            googleJavaFormat('1.8').aosp()
        }
    }
    plugins.withType(JavaPlugin) {


        dependencies {


            testImplementation 'org.spockframework:spock-core'

            [
                    'api',
                    'engine'

            ].each {dep ->
                testImplementation "org.junit.jupiter:junit-jupiter-$dep"
            }
        }

    }
}

